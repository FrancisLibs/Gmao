{% extends 'base.html.twig' %}

{% block title %}Bon de Travail{% endblock %}

{% block body %}
    <div class="row mt-5">
        <div class="col-6 mx-auto">
            <div class="row align-items-center">
                <div class="col-4">
                    <h3>Bon de Travail</h3>
                </div>
                <div class="d-flex justify-content-start align-items-center">
                    <a class="btn btn-warning btn-sm mr-2" href="{{ path('add_part', {'id': workorder.id}) }}">Pièces détachées</a>
                    <a class="btn btn-primary btn-sm mr-2" href="{{ path('work_order_index') }}" role="button">Liste BT</a>
                    <a class="btn btn-primary btn-sm mr-2" href="{{ path('work_order_edit', {'id': workorder.id}) }}">Edition</a>
                    {{ include('workorder/_delete_form.html.twig') }}
                    

                </div>
            </div>
        </div>
    </div>
    <article class="row">
        <div class="col-6 mx-auto mt-4">
            <table class="table">
                <tbody>
                    <tr>
                        <th>Créé le</th>
                        <td>{{ workorder.createdAt ? workorder.createdAt|date('d-m-Y H:i:s', timezone="Europe/Paris") : '' }}</td>
                    </tr>
                    <tr>
                        <th>Machine</th>
                        <td>{{ workorder.machine }}</td>
                    </tr>
                    <tr>
                        <th>Status</th>
                        <td>{{ workorder.status }}</td>
                    </tr>
                    <tr>
                        <th>Date début</th>
                        <td>{{ workorder.startDate ? workorder.startDate|date('d-m-Y', timezone="Europe/Paris") : '' }}</td>
                    </tr>
                    <tr>
                        <th>Heure début</th>
                        <td>{{ workorder.startTime ? workorder.startTime|date('H:i:s', timezone="Europe/Paris") : '' }}</td>
                    </tr>
                    <tr>
                        <th>Date fin</th>
                        <td>{{ workorder.endDate ? workorder.endDate|date('d-m-Y H:i:s', timezone="Europe/Paris") : '' }}</td>
                    </tr>
                    <tr>
                        <th>Heure de fin</th>
                        <td>{{ workorder.endTime ? workorder.endTime|date('H:i:s', timezone="Europe/Paris") : '' }}</td>
                    </tr>
                    {% if workorder.request %}
                        <tr>
                            <th>Demande</th>
                            <td>{{ workorder.request }}</td>
                        </tr>
                    {% endif %}
                    <tr>
                        <th>Réalisation</th>
                        <td>{{ workorder.implementation }}</td>
                    </tr>
                    {% if workorder.remark %}
                        <tr>
                            <th>Remarque</th>
                            <td>{{ workorder.remark }}</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </article>
{% endblock %}