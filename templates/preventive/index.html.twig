{% extends 'base.html.twig' %}

{% block title %}Préventif{% endblock %}

{% block body %}
    <header class="row mt-4">
        <div class="col-4 offset-2">
            <h3>Bons de travail préventifs</h3>
        </div>
    </header>
    <main class="row preventive-js-filter">
        <aside class="col-2 mt-5">
            <section>
                <div class="mb-5">
                    <a class="btn btn-primary btn-sm" href="{{ path('template_new') }}" role="button">Nouveau bon de travail préventif</a>
                </div>
                {% include 'preventive/_filter.html.twig' %}
            </section>
            <section class="text-center mt-3 d-flex flex-column ">
                {% if app.user.imageName %}
                    <img src="{{ vich_uploader_asset(app.user, 'imageFile') | imagine_filter('my_middle_filter') }}" alt="Photo d'identité de {{ app.user.username }}" />
                {% else %}
                    <img src="{{ asset('/images/technicien.jpg') | imagine_filter('my_middle_filter') }}" alt="Photo d'identité de {{ app.user.username }}" />
                {% endif %}
                <div class="mt-2 border borer-danger rounded">
                    {{ app.user.firstName ~ " " ~ app.user.lastName }}
                </div>
            </section>
        </aside> 
        <article class="col-10">
            <div class="mt-5">
                {% include 'preventive/_templateList.html.twig' with {templates: templates} only %}
            </div>
            {# display navigation #}
            <div class="navigation js-filter-pagination">
                {% include 'preventive/_pagination.html.twig' %}
            </div>
        </article>
    </main>
{% endblock %}