{% extends 'base.html.twig' %}

{% block title %}Machine{% endblock %}

{% block body %}
    <main class="row mt-5">
        <section class="col-5">
            <div class="row align-items-center">
                <div class="col-3 mr-3">
                    <h3>Machine</h3>
                </div>
                <div class="d-flex justify-content-start">
                    <a class="btn btn-primary btn-sm mr-2" href="{{ path('machine_index') }}" role="button">Liste machines</a>
                    <a class="btn btn-primary btn-sm mr-2" href="{{ path('machine_edit', {'id': machine.id}) }}">Edition</a>
                    {% if is_granted('ROLE_ADMIN') %}
                        {{ include('machine/_delete_form.html.twig') }}
                    {% endif %}
                </div>
            </div>
            <div class="border border-info rounded p-2">
                <p><strong>Code : </strong>{{ machine.internalCode }}</p>
                <p><strong>Nom : </strong>{{ machine.designation }}</p>
                <p><strong>Constructeur : </strong>{{ machine.constructor }}</p>
                {% if machine.model %}
                    <p><strong>Modèle : </strong>{{ machine.model }}</p>
                {% endif %}
                <p><strong>Numéro de série : </strong>{{ machine.serialNumber }}</p>
                <p><strong>Atelier : </strong>{{ machine.workshop.name }}</p>
            </div>
        </section>
        <section class="col-7">
            {{ include('machine/_workorders.html.twig') }}
        </section>
        <section class="col-5 mt-3">
            {{ include('machine/_parts.html.twig') }}
        </section>
    </main>
{% endblock %}